import{a as G}from"./chunk-LUZYCWPE.js";import{a as z}from"./chunk-2665OGWU.js";import{$ as Y,C as N,D as A,E as U,ia as J,j as R,ja as W,na as H,p as D,r as I,t as Q,ta as K,u as q,v as j,x as P,z as B}from"./chunk-UYRRL4HD.js";import{Bb as i,Cb as a,Db as M,Ea as O,Gc as F,Hb as L,Hc as V,Kb as m,Mb as u,Rb as h,Sb as x,Tb as v,Ub as C,Vb as p,Wb as g,Xb as E,Yb as T,Za as r,_a as w,ec as b,fc as y,la as k,pb as S,rb as c,va as f,wa as _}from"./chunk-7NKZXXYM.js";var Z=["input1"],$=["input2"],ee=["input3"],te=["input4"],ne=["input5"],ie=["input6"];function re(l,d){if(l&1){let s=L();i(0,"main",23)(1,"div",24)(2,"h4",25),p(3),a(),i(4,"p",25),p(5),a(),i(6,"form",26)(7,"input",27,0),m("input",function(){f(s);let t=C(10),e=u();return _(e.onInputChange(t))}),a(),i(9,"input",27,1),m("input",function(){f(s);let t=C(12),e=u();return _(e.onInputChange(t))}),a(),i(11,"input",28,2),m("input",function(){f(s);let t=C(15),e=u();return _(e.onInputChange(t))}),a(),M(13,"mat-divider"),i(14,"input",27,3),m("input",function(){f(s);let t=C(17),e=u();return _(e.onInputChange(t))}),a(),i(16,"input",27,4),m("input",function(){f(s);let t=C(19),e=u();return _(e.onInputChange(t))}),a(),i(18,"input",27,5),m("input",function(){f(s);let t=u();return _(t.verfctionCode())}),a()()()()}if(l&2){let s=u();r(3),g("PleaseCheckYourEmail"),r(2),T(" ",s.minutes," : ",s.seconds,"")}}function oe(l,d){if(l&1&&(i(0,"main",29)(1,"div",30)(2,"p",31),p(3),a()()()),l&2){let s=u();r(3),g(s.errorMessage)}}var ye=(()=>{let d=class d{constructor(n,t,e){this._RegsterAndLoginService=n,this._UsersService=t,this.router=e,this.registrationSuccess=new O,this.hide=!0,this.mika=!1,this.errorMessage="Invalid Username or Password",this.LogInForm=new j({username:new P("",[I.required,I.maxLength(25)]),password:new P("",[I.required])})}ngOnInit(){}onInputChange(n){n&&n.focus()}updateRemainingTime(){this.targetTime=new Date,this.targetTime.setMinutes(this.targetTime.getMinutes()+30),this.calculateTimeDifference(),this.countdownInterval=setInterval(()=>{this.calculateTimeDifference(),this.minutes<=0&&this.seconds<=0&&clearInterval(this.countdownInterval)},1e3)}calculateTimeDifference(){let n=this.targetTime.getTime()-new Date().getTime();this.minutes=Math.floor(n/(1e3*60)),this.seconds=Math.floor(n%(1e3*60)/1e3)}verfctionCode(){let t=[this.input1.nativeElement.value,this.input2.nativeElement.value,this.input3.nativeElement.value,this.input4.nativeElement.value,this.input5.nativeElement.value,this.input6.nativeElement.value].join(""),e={UserName:this.LogInForm.value.username,code:t};this._RegsterAndLoginService.verfctionCode(e).subscribe({next:o=>{let X=o.token;localStorage.setItem("token",X),this._RegsterAndLoginService.setIsRegistered(!0),clearInterval(this.countdownInterval),this.getPermissionBy()},error:o=>{}})}flip(){this.mika=!this.mika}LogIn(){let n={username1:this.LogInForm.value.username,password:this.LogInForm.value.password};this._RegsterAndLoginService.LogIn(n).subscribe({next:t=>{this.userID=t.result.id,this.mika=!this.mika,this.status=!0,this.updateRemainingTime()},error:t=>{this.mika=!this.mika,console.log(t),this.status=!1}})}getPermissionBy(){this._UsersService.getAllEmployeeWithPermission(this.userID).subscribe({next:n=>{n.length&&(localStorage.setItem("UserPermission",JSON.stringify(n)),this.router.navigate(["/hr/employee"]))},error:n=>{console.log(n)}})}};d.\u0275fac=function(t){return new(t||d)(w(z),w(G),w(R))},d.\u0275cmp=k({type:d,selectors:[["app-login"]],viewQuery:function(t,e){if(t&1&&(h(Z,5),h($,5),h(ee,5),h(te,5),h(ne,5),h(ie,5)),t&2){let o;x(o=v())&&(e.input1=o.first),x(o=v())&&(e.input2=o.first),x(o=v())&&(e.input3=o.first),x(o=v())&&(e.input4=o.first),x(o=v())&&(e.input5=o.first),x(o=v())&&(e.input6=o.first)}},outputs:{registrationSuccess:"registrationSuccess"},decls:29,vars:25,consts:[["input1",""],["input2",""],["input3",""],["input4",""],["input5",""],["input6",""],[1,"cont",3,"dir"],[1,"card"],["id","back",1,"cardBack",3,"ngClass"],[1,"main","mt-5"],["class","form d-flex justify-content-center align-items-center flex-column",4,"ngIf"],["class","d-flex justify-content-center align-items-center flex-column main",4,"ngIf"],["id","front",1,"cardFront",3,"ngClass"],[1,"d-flex","flex-column",3,"formGroup"],[1,"text-center","b-2","fs-2"],[1,"my-2",2,"position","relative"],["type","text","formControlName","username","id","username","name","username","required",""],["for","username"],["formControlName","password","id","password","name","password","required","",3,"type"],["for","password"],["matSuffix","",3,"click","ngClass"],[1,"mt-4","mb-3","fs-4",3,"click","disabled"],[1,"forgot","mt-2"],[1,"form","d-flex","justify-content-center","align-items-center","flex-column"],[1,"container","mt-5"],[1,"text-center","text-white"],[1,"d-flex","justify-content-center","align-items-center","pt-1","mt-5"],["inputtype","numeric","min","0","max","9","required","","pattern","[0-9\\s]","minlength","1","maxlength","1",1,"ms-1","text-center",3,"input"],["inputtype","numeric","min","0","max","9","required","","pattern","[0-9\\s]","minlength","1","maxlength","1",1,"mx-1","text-center",3,"input"],[1,"d-flex","justify-content-center","align-items-center","flex-column","main"],[1,"container","d-flex","justify-content-center","align-items-center"],[1,"text-center","text-white","fs-5"]],template:function(t,e){t&1&&(i(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),S(4,re,20,3,"main",10)(5,oe,4,1,"main",11),a()(),i(6,"div",12)(7,"form",13)(8,"h2",14),p(9),b(10,"translate"),a(),i(11,"div",15),M(12,"input",16),i(13,"label",17),p(14),b(15,"translate"),a()(),i(16,"div",15),M(17,"input",18),i(18,"label",19),p(19),b(20,"translate"),a(),i(21,"mat-icon",20),m("click",function(){return e.hide=!e.hide}),p(22),a()(),i(23,"button",21),m("click",function(){return e.LogIn()}),p(24),b(25,"translate"),a(),i(26,"div",22),p(27),b(28,"translate"),a()()()()()),t&2&&(c("dir",e.direction),r(2),c("ngClass",e.mika?"flipped":""),r(2),c("ngIf",e.status),r(),c("ngIf",!e.status),r(),c("ngClass",e.mika?"flipped":""),r(),c("formGroup",e.LogInForm),r(2),g(y(10,15,"SignIn")),r(5),g(y(15,17,"Username")),r(3),c("type",e.hide?"password":"text"),r(2),g(y(20,19,"Password")),r(2),c("ngClass",e.isLang?"pointer":"pointer-Ara"),r(),g(e.hide?"visibility_off":"visibility"),r(),c("disabled",!e.LogInForm.valid),r(),g(y(25,21,"Login")),r(3),E("",y(28,23,"ForgotYourPassword?")," "))},dependencies:[F,V,J,Y,W,H,B,D,Q,q,U,N,A,K],styles:['.cont[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#232429;height:100vh}.card[_ngcontent-%COMP%]{margin-top:1rem;height:450px;width:370px;position:relative;border-radius:50px 5px;overflow:hidden;background-color:#232429}@keyframes _ngcontent-%COMP%_animate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.card[_ngcontent-%COMP%]:before{content:"";position:absolute;width:370px;height:450px;top:-50%;left:-50%;background:linear-gradient(60deg,transparent,red);transform-origin:bottom right;animation:_ngcontent-%COMP%_animate 3s linear infinite}.card[_ngcontent-%COMP%]:after{content:"";position:absolute;width:370px;height:450px;top:-50%;left:-50%;background:linear-gradient(60deg,transparent,blue);transform-origin:bottom right;animation:_ngcontent-%COMP%_animate 3s linear infinite;animation-delay:-1.5s}.cardFront[_ngcontent-%COMP%], .cardBack[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:50px 5px;height:99%;padding:30px;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;width:99%;transition:transform .5s ease;position:absolute;-webkit-backface-visibility:hidden;backface-visibility:hidden;inset:2px;background-color:#28292d;z-index:10}.cardBack[_ngcontent-%COMP%]{transform:perspective(1000px) rotateY(180deg)}.cardBack.flipped[_ngcontent-%COMP%], .cardFront[_ngcontent-%COMP%]{transform:perspective(1000px) rotateY(0)}.cardFront.flipped[_ngcontent-%COMP%]{transform:perspective(1000px) rotateY(180deg)}h2[_ngcontent-%COMP%]{color:#68c9d1;font-weight:700}mat-icon.pointer[_ngcontent-%COMP%], mat-icon.pointer-Ara[_ngcontent-%COMP%]{margin-top:10px;position:absolute;top:8px;cursor:pointer;color:#595a5d;right:25px}.forgot[_ngcontent-%COMP%]{color:#595a5d;font-weight:700;text-align:left}.cardFront[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;text-align:left;border:none;border-radius:4px;outline:none;background:#595a5d;padding:10px 5px;margin:10px 5%;transition:background .7s,border-color .7s;color:#fff}.cardFront[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;color:#28292d;pointer-events:none;transition:top .7s,font-size .7s,color .7s;top:21px;left:25px;font-weight:700}.cardFront[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .cardFront[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid + label[_ngcontent-%COMP%]{top:-15px;font-size:12px;color:#68c9d1}.cardFront[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{color:#fff;background-color:#68c9d1}.cardFront[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#68c9d1;color:#fff;border:none;padding:10px 20px;cursor:pointer;width:100%;border-radius:35px}.cardBack[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40px!important;height:55px;border:none!important;background-color:#fff;border-radius:7px;border-bottom-right-radius:0!important;border-bottom-left-radius:0!important;padding-bottom:8px;font-size:18px}mat-divider[_ngcontent-%COMP%]{width:30px!important;background-color:#fff;height:2px!important}.spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.loading-layout[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:9999;display:flex;justify-content:center;align-items:center}']});let l=d;return l})();export{ye as a};
