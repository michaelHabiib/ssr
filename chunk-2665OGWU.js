import{H as p,a as g}from"./chunk-UYRRL4HD.js";import{F as m,aa as h,fa as o,j as a,k as c,p as i,t as l,zc as u}from"./chunk-7NKZXXYM.js";var j=(()=>{let s=class s{constructor(e,t){this._HttpClient=e,this.document=t,this.baseUrl="",this.isRegisteredChanged=new a,this.isRegisteredSubject=new c(!1),this.isRegistered$=this.isRegisteredSubject.asObservable(),this.baseUrl=p.apiUrl}LogIn(e){return this._HttpClient.post(`${this.baseUrl}/api/SecurityBMD/Users/UserLogin`,e)}verfctionCode(e){return this._HttpClient.post(`${this.baseUrl}/api/SecurityBMD/UserAuthByEmails/UserAuthByEmailSelectByUsersID30min?UserName=${e.UserName}&OneTimeCode=${e.code}`,{})}setIsRegistered(e){this.isRegisteredSubject.next(e),localStorage.setItem("isRegistered",JSON.stringify(e)),this.isRegisteredChanged.next(e)}getTokenFromLOcalStorage(){let e=this.document.defaultView?.localStorage;return e?e.getItem("token"):null}getUserPermissions(){return this.userPermissions=JSON.parse(localStorage.getItem("UserPermission")||"{}"),i(this.userPermissions)}hasAccessToDepartment(e){return this.getUserPermissions().pipe(l(t=>Array.isArray(t)?t.some(n=>e.includes(n.permissionid)||n.type===1):!1),m(t=>(console.error("Error retrieving user permissions:",t),i(!1))))}};s.\u0275fac=function(t){return new(t||s)(o(g),o(u))},s.\u0275prov=h({token:s,factory:s.\u0275fac,providedIn:"root"});let r=s;return r})();export{j as a};
